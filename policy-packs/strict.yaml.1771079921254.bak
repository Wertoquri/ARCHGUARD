rules:
  - id: P-STRICT-001
    type: forbidden_dependency
    from: domain/**
    to: infrastructure/**
    severity: critical

  - id: P-STRICT-002
    type: no_cycles
    severity: high

  - id: P-STRICT-003
    type: max_fan_in
    threshold: 8
    severity: high

  - id: P-STRICT-004
    type: max_fan_out
    threshold: 10
    severity: high

  - id: P-STRICT-005
    type: layer_matrix
    severity: critical
    allowSameLayer: false
    layers:
      domain: domain/**
      application: application/**
      infrastructure: infrastructure/**
    allow:
      - from: application
        to: domain
      - from: infrastructure
        to: application
